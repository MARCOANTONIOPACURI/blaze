<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula Virtual BLAZE 2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;700&family=Work+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #ff3d00;
            --secondary: #ff6b35;
            --tertiary: #ff9500;
            --dark: #0a0a0a;
            --dark-light: #1a1a1a;
            --light: #f8f9fa;
        }

        body {
            font-family: 'Work Sans', sans-serif;
            background: var(--dark);
            color: var(--light);
            overflow-x: hidden;
        }

        /* Spinner */
        #spinner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--dark);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease;
        }

        #spinner.hide {
            opacity: 0;
            pointer-events: none;
        }

        .fire-loader {
            position: relative;
            width: 80px;
            height: 80px;
        }

        .fire-circle {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 4px solid transparent;
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .fire-circle:nth-child(2) {
            border-top-color: var(--secondary);
            animation-delay: -0.3s;
        }

        .fire-circle:nth-child(3) {
            border-top-color: var(--tertiary);
            animation-delay: -0.6s;
        }

        .fire-core {
            position: absolute;
            width: 40%;
            height: 40%;
            background: var(--primary);
            border-radius: 50%;
            top: 30%;
            left: 30%;
            box-shadow: 0 0 20px var(--primary), 0 0 40px var(--secondary);
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(0.8); opacity: 0.8; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--dark-light), var(--dark));
            padding: 2rem;
            border-bottom: 3px solid var(--primary);
            box-shadow: 0 5px 20px rgba(255, 61, 0, 0.3);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
            animation: pulse 2s ease-in-out infinite;
        }

        .logo h1 {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 1.8rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--tertiary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid var(--primary);
            object-fit: cover;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--dark-light), #151515);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 61, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--tertiary));
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 61, 0, 0.3);
            border-color: var(--primary);
        }

        .stat-card i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .stat-card h3 {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #999;
            margin-bottom: 0.5rem;
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--light);
        }

        /* Sections */
        .section {
            background: linear-gradient(135deg, var(--dark-light), #151515);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 61, 0, 0.2);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary);
        }

        .section-title {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 1.8rem;
            color: var(--light);
        }

        .section-title i {
            color: var(--primary);
            margin-right: 0.5rem;
        }

        /* Tabla de Notas */
        .grades-table {
            width: 100%;
            border-collapse: collapse;
            overflow-x: auto;
            display: block;
        }

        .grades-table thead {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .grades-table th,
        .grades-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 107, 53, 0.2);
        }

        .grades-table th {
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        .grades-table tbody tr {
            transition: all 0.3s ease;
        }

        .grades-table tbody tr:hover {
            background: rgba(255, 61, 0, 0.1);
            transform: scale(1.01);
        }

        .grade-cell {
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            display: inline-block;
            min-width: 50px;
            text-align: center;
        }

        .grade-excellent { background: rgba(76, 175, 80, 0.3); color: #4CAF50; }
        .grade-good { background: rgba(33, 150, 243, 0.3); color: #2196F3; }
        .grade-average { background: rgba(255, 152, 0, 0.3); color: #FF9800; }
        .grade-low { background: rgba(244, 67, 54, 0.3); color: #F44336; }

        /* Gráfico */
        .chart-container {
            position: relative;
            height: 400px;
            margin: 2rem 0;
        }

        /* Formulario de Actitud */
        .attitude-form {
            display: grid;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-weight: 600;
            color: var(--secondary);
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        .form-control {
            padding: 1rem;
            background: var(--dark);
            border: 2px solid rgba(255, 107, 53, 0.3);
            border-radius: 10px;
            color: var(--light);
            font-family: 'Work Sans', sans-serif;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(255, 61, 0, 0.3);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 120px;
        }

        .btn {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--light);
            border: none;
            border-radius: 50px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 61, 0, 0.5);
        }

        .btn i {
            margin-right: 0.5rem;
        }

        /* Historial de Actitudes */
        .attitude-list {
            display: grid;
            gap: 1rem;
            margin-top: 2rem;
        }

        .attitude-item {
            background: var(--dark);
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s ease;
        }

        .attitude-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(255, 61, 0, 0.3);
        }

        .attitude-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .attitude-date {
            color: var(--secondary);
            font-size: 0.85rem;
            font-weight: 600;
        }

        .attitude-rating {
            display: flex;
            gap: 0.25rem;
        }

        .star {
            color: var(--tertiary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .grades-table {
                font-size: 0.85rem;
            }

            .grades-table th,
            .grades-table td {
                padding: 0.5rem;
            }

            .section {
                padding: 1rem;
            }

            .chart-container {
                height: 300px;
            }
        }

        /* Animaciones */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease forwards;
        }

        /* Selector de estudiante */
        .student-selector {
            margin-bottom: 2rem;
        }

        .student-selector select {
            width: 100%;
            max-width: 400px;
        }
    </style>
</head>
<body>
    <!-- Spinner -->
    <div id="spinner">
        <div class="fire-loader">
            <div class="fire-circle"></div>
            <div class="fire-circle"></div>
            <div class="fire-circle"></div>
            <div class="fire-core"></div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-fire"></i>
                <h1>AULA VIRTUAL BLAZE 2026</h1>
            </div>
            <div class="user-info">
                <div>
                    <p style="margin: 0; font-weight: 600;" id="studentName">Nombre del Estudiante</p>
                    <p style="margin: 0; font-size: 0.85rem; color: #999;">Estudiante</p>
                </div>
                <img src="https://ui-avatars.com/api/?name=Estudiante&background=ff3d00&color=fff&size=100" alt="Avatar" class="user-avatar" id="studentAvatar">
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Selector de Estudiante -->
        <div class="section student-selector fade-in">
            <div class="form-group">
                <label for="studentSelect"><i class="fas fa-user"></i> Seleccionar Estudiante</label>
                <select id="studentSelect" class="form-control" onchange="loadStudentData()">
                    <option value="1">Ana María García</option>
                    <option value="2">Carlos Rodríguez</option>
                    <option value="3">María Fernández</option>
                    <option value="4">Diego Martínez</option>
                </select>
            </div>
        </div>

        <!-- Dashboard Cards -->
        <div class="dashboard-grid fade-in">
            <div class="stat-card">
                <i class="fas fa-calendar-check"></i>
                <h3>Asistencia</h3>
                <div class="value" id="attendance">95%</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-clock"></i>
                <h3>Puntualidad</h3>
                <div class="value" id="punctuality">92%</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-star"></i>
                <h3>Promedio General</h3>
                <div class="value" id="average">16.8</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-trophy"></i>
                <h3>Ranking</h3>
                <div class="value" id="ranking">5° / 32</div>
            </div>
        </div>

        <!-- Notas Mensuales -->
        <div class="section fade-in">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-graduation-cap"></i> Notas Mensuales</h2>
                <select id="monthSelect" class="form-control" style="width: auto;" onchange="updateGrades()">
                    <option value="enero">Enero</option>
                    <option value="febrero">Febrero</option>
                    <option value="marzo" selected>Marzo</option>
                    <option value="abril">Abril</option>
                    <option value="mayo">Mayo</option>
                </select>
            </div>
            <div style="overflow-x: auto;">
                <table class="grades-table">
                    <thead>
                        <tr>
                            <th>Materia</th>
                            <th>Nota</th>
                            <th>Evaluación</th>
                        </tr>
                    </thead>
                    <tbody id="gradesTableBody">
                        <!-- Se llenará dinámicamente -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Gráfico de Rendimiento -->
        <div class="section fade-in">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-chart-line"></i> Rendimiento Académico</h2>
            </div>
            <div class="chart-container">
                <canvas id="performanceChart"></canvas>
            </div>
        </div>

        <!-- Registro de Actitud -->
        <div class="section fade-in">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-smile"></i> Registro de Actitud</h2>
            </div>
            <form class="attitude-form" onsubmit="submitAttitude(event)">
                <div class="form-group">
                    <label for="attitudeDate">Fecha</label>
                    <input type="date" id="attitudeDate" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="attitudeRating">Calificación (1-5)</label>
                    <select id="attitudeRating" class="form-control" required>
                        <option value="">Seleccionar...</option>
                        <option value="5">⭐⭐⭐⭐⭐ Excelente</option>
                        <option value="4">⭐⭐⭐⭐ Muy Bueno</option>
                        <option value="3">⭐⭐⭐ Bueno</option>
                        <option value="2">⭐⭐ Regular</option>
                        <option value="1">⭐ Necesita Mejorar</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="attitudeComments">Comentarios</label>
                    <textarea id="attitudeComments" class="form-control" placeholder="Describe el comportamiento y actitud del estudiante durante la clase..."></textarea>
                </div>
                <button type="submit" class="btn">
                    <i class="fas fa-save"></i> Guardar Registro
                </button>
            </form>

            <!-- Historial de Actitudes -->
            <div class="attitude-list" id="attitudeList">
                <!-- Se llenará dinámicamente -->
            </div>
        </div>
    </div>

    <script>
        // Ocultar spinner
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('spinner').classList.add('hide');
            }, 1500);
        });

        // Fecha actual por defecto
        document.getElementById('attitudeDate').valueAsDate = new Date();

        // Datos de ejemplo
        const studentsData = {
            1: {
                name: "Ana María García",
                attendance: 95,
                punctuality: 92,
                average: 16.8,
                ranking: "5° / 32",
                grades: {
                    "Química": 17,
                    "Física": 16,
                    "Personal Social": 18,
                    "Biología": 17,
                    "Trigonometría": 15,
                    "Geometría": 16,
                    "Álgebra": 18,
                    "Aritmética": 17,
                    "Razonamiento Matemático": 16,
                    "Literatura": 18,
                    "Lenguaje": 17,
                    "Razonamiento Verbal": 16
                }
            },
            2: {
                name: "Carlos Rodríguez",
                attendance: 88,
                punctuality: 85,
                average: 15.2,
                ranking: "12° / 32",
                grades: {
                    "Química": 15,
                    "Física": 14,
                    "Personal Social": 16,
                    "Biología": 15,
                    "Trigonometría": 14,
                    "Geometría": 15,
                    "Álgebra": 16,
                    "Aritmética": 15,
                    "Razonamiento Matemático": 14,
                    "Literatura": 16,
                    "Lenguaje": 15,
                    "Razonamiento Verbal": 15
                }
            }
        };

        let attitudeRecords = [];

        function getGradeClass(grade) {
            if (grade >= 17) return 'grade-excellent';
            if (grade >= 14) return 'grade-good';
            if (grade >= 11) return 'grade-average';
            return 'grade-low';
        }

        function getGradeLabel(grade) {
            if (grade >= 17) return 'Excelente';
            if (grade >= 14) return 'Bueno';
            if (grade >= 11) return 'Regular';
            return 'Deficiente';
        }

        function loadStudentData() {
            const studentId = document.getElementById('studentSelect').value;
            const student = studentsData[studentId];

            document.getElementById('studentName').textContent = student.name;
            document.getElementById('studentAvatar').src = `https://ui-avatars.com/api/?name=${encodeURIComponent(student.name)}&background=ff3d00&color=fff&size=100`;
            document.getElementById('attendance').textContent = student.attendance + '%';
            document.getElementById('punctuality').textContent = student.punctuality + '%';
            document.getElementById('average').textContent = student.average;
            document.getElementById('ranking').textContent = student.ranking;

            updateGrades();
        }

        function updateGrades() {
            const studentId = document.getElementById('studentSelect').value;
            const student = studentsData[studentId];
            const tbody = document.getElementById('gradesTableBody');
            
            tbody.innerHTML = '';
            
            Object.entries(student.grades).forEach(([subject, grade]) => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td><strong>${subject}</strong></td>
                    <td><span class="grade-cell ${getGradeClass(grade)}">${grade}</span></td>
                    <td>${getGradeLabel(grade)}</td>
                `;
            });

            updateChart();
        }

        // Gráfico
        let chart;
        function updateChart() {
            const studentId = document.getElementById('studentSelect').value;
            const student = studentsData[studentId];
            
            const ctx = document.getElementById('performanceChart').getContext('2d');
            
            if (chart) {
                chart.destroy();
            }

            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(student.grades),
                    datasets: [{
                        label: 'Notas',
                        data: Object.values(student.grades),
                        backgroundColor: 'rgba(255, 61, 0, 0.6)',
                        borderColor: 'rgba(255, 107, 53, 1)',
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#f8f9fa',
                                font: {
                                    size: 14
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 20,
                            ticks: {
                                color: '#f8f9fa'
                            },
                            grid: {
                                color: 'rgba(255, 107, 53, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#f8f9fa',
                                font: {
                                    size: 11
                                }
                            },
                            grid: {
                                color: 'rgba(255, 107, 53, 0.1)'
                            }
                        }
                    }
                }
            });
        }

        function submitAttitude(event) {
            event.preventDefault();
            
            const date = document.getElementById('attitudeDate').value;
            const rating = parseInt(document.getElementById('attitudeRating').value);
            const comments = document.getElementById('attitudeComments').value;
            const studentName = document.getElementById('studentName').textContent;

            const record = {
                id: Date.now(),
                student: studentName,
                date: date,
                rating: rating,
                comments: comments
            };

            attitudeRecords.unshift(record);
            displayAttitudeRecords();

            // Limpiar formulario
            document.getElementById('attitudeComments').value = '';
            document.getElementById('attitudeDate').valueAsDate = new Date();
            document.getElementById('attitudeRating').value = '';

            alert('Registro guardado exitosamente!');
        }

        function displayAttitudeRecords() {
            const list = document.getElementById('attitudeList');
            list.innerHTML = '';

            attitudeRecords.forEach(record => {
                const stars = '⭐'.repeat(record.rating);
                const item = document.createElement('div');
                item.className = 'attitude-item';
                item.innerHTML = `
                    <div class="attitude-header">
                        <span class="attitude-date">${new Date(record.date).toLocaleDateString('es-ES', { 
                            year: 'numeric', 
                            month: 'long', 
                            day: 'numeric' 
                        })}</span>
                        <span class="attitude-rating">${stars}</span>
                    </div>
                    <p style="margin: 0; color: #ccc;">${record.comments || 'Sin comentarios'}</p>
                `;
                list.appendChild(item);
            });
        }

        // Cargar datos iniciales
        loadStudentData();
    </script>
</body>
</html>